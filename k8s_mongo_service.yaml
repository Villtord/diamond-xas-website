#apiVersion: v1
#kind: Service
#metadata:
#  name: xasdb-mongo-svc
#  labels:
#    app: mongo-xasdb
#    release: test
#spec:
#  type: LoadBalancer
#  ports:
#  - name: http
#    port: 27017
#    targetPort: 27017
#    protocol: TCP
#  selector:
#    app: mongo-xasdb

# this one is not exposing external ip
apiVersion: v1
kind: Service
metadata:
  labels:
    app: mongo-xasdb
  name: mongo-nodeport-svc
spec:
  ports:
  - port: 27017
    protocol: TCP
    targetPort: 27017
    nodePort: 32000
  selector:
    app: mongo-xasdb
  type: NodePort
status:
  loadBalancer: {}